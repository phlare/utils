<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../simpleQueue.js"></script>
	<script type="text/javascript" src="../queue.js"></script>
	<title>Queue</title>
	<style type="text/css">
		.two-col {
			float:left;
			width:45%;
			margin: 0 2.5%;
		}
	</style>
</head>
<body>
	<a href="index.html">back to list</a><br />
	<p>
		queue.js loaded. check the console for output.
	</p>
	<p></p>
	Display:<br/>
	<div class="two-col">
		<h3>using builtin push() and shift()</h3>
		<pre id="displayArea1"><pre>
	</div>
	<div class="two-col">
		<h3>customized queue</h3>
		<pre id="displayArea2"><pre>
	</div>

	<script type="text/javascript">
		var queueTest = {
			sq: null,
			q: null,
			benchmarks: {},
			init: function() {

				console.log('initializing objects...');
				this.q = new Queue();
				this.sq = new SimpleQueue();

				this.display();

				this.runBenchmarks();

				this.display();

			},
			display: function() {
				this.sq.display('text', 'displayArea1');
				this.q.display('text','displayArea2');
			},
			runBenchmarks: function() {
				for (var i = 100; i <= 1000000; i *= 1.4) {
					this.benchmarks[i] = this.benchmark(i);
				}

				console.log(this.benchmarks);
			},
			benchmark: function(n) {

				var start = 0;
				var stop = 0;

				var benchData = {
					'n' : n,
					'push' : {
						'sq' : 0,
						'q' : 0
					},
					'shift' : {
						'sq' : 0,
						'q' : 0
					}
				};

				console.log('pushing ' + n + ' to SimpleQueue');
				start = performance.now();
				this.multiplePushes(this.sq, n);
				stop = performance.now();
				benchData.push.sq = (stop - start);

				console.log('pushing ' + n + ' to Queue');
				start = performance.now();
				this.multiplePushes(this.q, n);
				stop = performance.now();
				benchData.push.q = (stop - start);

				console.log('shifting ' + n + ' from SimpleQueue');
				start = performance.now();
				this.multipleShifts(this.sq, n);
				stop = performance.now();
				benchData.shift.sq = (stop - start);

				console.log('shifting ' + n + ' from Queue');
				start = performance.now();
				this.multipleShifts(this.q, n);
				stop = performance.now();
				benchData.shift.q = (stop - start);

				return benchData;

			},

			multipleShifts: function(queue, n) {
				n = n || 5;
				queue = queue || this.q;
				for (var i = 0; i < n; i++) {
					var val = queue.shift();
				}
			},
			multiplePushes: function(queue, n) {
				n = n || 5;
				queue = queue || this.q;
				for (var i = 0; i < n; i++) {
					queue.push(i);
				}
			}
		};

		queueTest.init();

	</script>

</body>
</html>